/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/10.1.34
 * Generated at: 2025-02-27 05:29:39 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.jsp.gem.generic.editor.string;

import jakarta.servlet.*;
import jakarta.servlet.http.*;
import jakarta.servlet.jsp.*;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;
import org.iplass.mtp.auth.AuthContext;
import org.iplass.mtp.entity.permission.EntityPropertyPermission;
import org.iplass.mtp.entity.Entity;
import org.iplass.mtp.entity.definition.PropertyDefinition;
import org.iplass.mtp.util.StringUtil;
import org.iplass.mtp.view.generic.EntityViewUtil;
import org.iplass.mtp.view.generic.editor.EditorValue;
import org.iplass.mtp.view.generic.editor.StringPropertyEditor;
import org.iplass.mtp.view.generic.editor.StringPropertyEditor.StringDisplayType;
import org.iplass.mtp.web.template.TemplateUtil;
import org.iplass.gem.command.Constants;
import org.iplass.gem.command.GemResourceBundleUtil;
import org.iplass.gem.command.ViewUtil;
import org.iplass.gem.GemConfigService;
import org.iplass.gem.command.Constants;
import org.iplass.mtp.spi.ServiceRegistry;
import org.iplass.mtp.view.generic.editor.StringPropertyEditor.RichTextLibrary;
import org.iplass.gem.GemConfigService;
import org.iplass.gem.command.Constants;
import org.iplass.mtp.spi.ServiceRegistry;
import org.iplass.mtp.view.generic.editor.StringPropertyEditor.RichTextLibrary;

public final class StringPropertyEditor_005fEdit_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent,
                 org.apache.jasper.runtime.JspSourceImports,
                 org.apache.jasper.runtime.JspSourceDirectives {


	EditorValue getValue(StringPropertyEditor editor, String value) {
		if (value == null) return null;
		for (EditorValue tmp : editor.getValues()) {
			if (value.equals(tmp.getValue())) {
				return tmp;
			}
		}
		return null;
	}
	List<EditorValue> getValues(StringPropertyEditor editor, Object value, PropertyDefinition pd) {
		List<EditorValue> values = new ArrayList<EditorValue>();
		if (pd.getMultiplicity() != 1){
			String[] array = value instanceof String[] ? (String[]) value : null;
			if (array != null) {
				for (String tmp : array) {
					EditorValue ev = getValue(editor, tmp);
					if (ev != null) {
						values.add(ev);
					}
				}
			}
		} else {
			String tmp = value instanceof String ? (String) value : null;
			EditorValue ev = getValue(editor, tmp);
			if (ev != null) values.add(ev);
		}
		return values;
	}
	Object getDefaultValue(StringPropertyEditor editor, PropertyDefinition pd) {
		String defaultValue = editor.getDefaultValue();
		if (defaultValue != null) {
			if (pd.getMultiplicity() != 1) {
				String[] vals = defaultValue.split(",");
				int length = vals.length > pd.getMultiplicity() ? pd.getMultiplicity() : vals.length;
				String[] ret = new String[length];
				for (int i = 0; i < length; i++) {
					ret[i] = vals[i];
				}
				return ret;
			} else {
				return defaultValue;
			}
		}
		return null;
	}

private static org.apache.jasper.runtime.ProtectedFunctionMapper _jspx_fnmap_0;

static {
  _jspx_fnmap_0= org.apache.jasper.runtime.ProtectedFunctionMapper.getMapForFunction("m:rs", org.iplass.mtp.web.template.ELFunctions.class, "rs", new Class[] {java.lang.String.class, java.lang.String.class});
}

  private static final jakarta.servlet.jsp.JspFactory _jspxFactory =
          jakarta.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  static {
    _jspx_dependants = new java.util.HashMap<java.lang.String,java.lang.Long>(4);
    _jspx_dependants.put("/WEB-INF/mtp.tld", Long.valueOf(1738207446000L));
    _jspx_dependants.put("/WEB-INF/lib/jakarta.servlet.jsp.jstl-3.0.1.jar", Long.valueOf(1737625086258L));
    _jspx_dependants.put("jar:file:/C:/pleiades/2024-12/workspace/Portal_Mock/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/Portal_Mock/WEB-INF/lib/jakarta.servlet.jsp.jstl-3.0.1.jar!/META-INF/c.tld", Long.valueOf(1664421078000L));
    _jspx_dependants.put("/jsp/gem/layout/resource/richtextEditorResource.inc.jsp", Long.valueOf(1738207466000L));
  }

  private static final java.util.Set<java.lang.String> _jspx_imports_packages;

  private static final java.util.Set<java.lang.String> _jspx_imports_classes;

  static {
    _jspx_imports_packages = new java.util.LinkedHashSet<>(4);
    _jspx_imports_packages.add("jakarta.servlet");
    _jspx_imports_packages.add("jakarta.servlet.http");
    _jspx_imports_packages.add("jakarta.servlet.jsp");
    _jspx_imports_classes = new java.util.LinkedHashSet<>(26);
    _jspx_imports_classes.add("org.iplass.mtp.entity.Entity");
    _jspx_imports_classes.add("java.util.Arrays");
    _jspx_imports_classes.add("org.iplass.mtp.entity.definition.PropertyDefinition");
    _jspx_imports_classes.add("org.iplass.mtp.view.generic.editor.EditorValue");
    _jspx_imports_classes.add("org.iplass.mtp.view.generic.EntityViewUtil");
    _jspx_imports_classes.add("org.iplass.mtp.view.generic.editor.StringPropertyEditor");
    _jspx_imports_classes.add("org.iplass.mtp.view.generic.editor.StringPropertyEditor.StringDisplayType");
    _jspx_imports_classes.add("org.iplass.gem.command.ViewUtil");
    _jspx_imports_classes.add("org.iplass.mtp.view.generic.editor.StringPropertyEditor.RichTextLibrary");
    _jspx_imports_classes.add("org.iplass.mtp.auth.AuthContext");
    _jspx_imports_classes.add("org.iplass.mtp.entity.permission.EntityPropertyPermission");
    _jspx_imports_classes.add("java.util.ArrayList");
    _jspx_imports_classes.add("org.iplass.mtp.util.StringUtil");
    _jspx_imports_classes.add("org.iplass.gem.command.GemResourceBundleUtil");
    _jspx_imports_classes.add("java.util.List");
    _jspx_imports_classes.add("org.iplass.gem.command.Constants");
    _jspx_imports_classes.add("org.iplass.mtp.web.template.TemplateUtil");
    _jspx_imports_classes.add("org.iplass.mtp.spi.ServiceRegistry");
    _jspx_imports_classes.add("org.iplass.gem.GemConfigService");
  }

  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody;

  private volatile jakarta.el.ExpressionFactory _el_expressionfactory;
  private volatile org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public java.util.Set<java.lang.String> getPackageImports() {
    return _jspx_imports_packages;
  }

  public java.util.Set<java.lang.String> getClassImports() {
    return _jspx_imports_classes;
  }

  public boolean getErrorOnELNotFound() {
    return false;
  }

  public jakarta.el.ExpressionFactory _jsp_getExpressionFactory() {
    if (_el_expressionfactory == null) {
      synchronized (this) {
        if (_el_expressionfactory == null) {
          _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
        }
      }
    }
    return _el_expressionfactory;
  }

  public org.apache.tomcat.InstanceManager _jsp_getInstanceManager() {
    if (_jsp_instancemanager == null) {
      synchronized (this) {
        if (_jsp_instancemanager == null) {
          _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
        }
      }
    }
    return _jsp_instancemanager;
  }

  public void _jspInit() {
    _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
  }

  public void _jspDestroy() {
    _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.release();
  }

  public void _jspService(final jakarta.servlet.http.HttpServletRequest request, final jakarta.servlet.http.HttpServletResponse response)
      throws java.io.IOException, jakarta.servlet.ServletException {

    if (!jakarta.servlet.DispatcherType.ERROR.equals(request.getDispatcherType())) {
      final java.lang.String _jspx_method = request.getMethod();
      if ("OPTIONS".equals(_jspx_method)) {
        response.setHeader("Allow","GET, HEAD, POST, OPTIONS");
        return;
      }
      if (!"GET".equals(_jspx_method) && !"POST".equals(_jspx_method) && !"HEAD".equals(_jspx_method)) {
        response.setHeader("Allow","GET, HEAD, POST, OPTIONS");
        response.sendError(HttpServletResponse.SC_METHOD_NOT_ALLOWED, "JSPではGET、POST、またはHEADのみが許可されます。 JasperはOPTIONSも許可しています。");
        return;
      }
    }

    final jakarta.servlet.jsp.PageContext pageContext;
    jakarta.servlet.http.HttpSession session = null;
    final jakarta.servlet.ServletContext application;
    final jakarta.servlet.ServletConfig config;
    jakarta.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    jakarta.servlet.jsp.JspWriter _jspx_out = null;
    jakarta.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=utf-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;


	StringPropertyEditor editor = (StringPropertyEditor) request.getAttribute(Constants.EDITOR_EDITOR);

	Entity entity = request.getAttribute(Constants.ENTITY_DATA) instanceof Entity ? (Entity) request.getAttribute(Constants.ENTITY_DATA) : null;
	Object propValue = request.getAttribute(Constants.EDITOR_PROP_VALUE);

	String defName = (String)request.getAttribute(Constants.DEF_NAME);
	String rootDefName = (String)request.getAttribute(Constants.ROOT_DEF_NAME);
	PropertyDefinition pd = (PropertyDefinition) request.getAttribute(Constants.EDITOR_PROPERTY_DEFINITION);
	String scriptKey = (String)request.getAttribute(Constants.SECTION_SCRIPT_KEY);
	String execType = (String) request.getAttribute(Constants.EXEC_TYPE);
	Integer colNum = (Integer) request.getAttribute(Constants.COL_NUM);

	Boolean nest = (Boolean) request.getAttribute(Constants.EDITOR_REF_NEST);
	Boolean nestDummyRow = (Boolean) request.getAttribute(Constants.EDITOR_REF_NEST_DUMMY_ROW);

	Boolean isVirtual = (Boolean) request.getAttribute(Constants.IS_VIRTUAL);
	if (isVirtual == null) isVirtual = false;

	boolean isInsert = Constants.EXEC_TYPE_INSERT.equals(execType);
	String propName = editor.getPropertyName();
	String escapedPropName = StringUtil.escapeJavaScript(propName);
	AuthContext auth = AuthContext.getCurrentContext();
	boolean allowedContent = editor.isAllowedContent();
	boolean isEditable = true;
	if (isVirtual) {
		isEditable = true;//仮想プロパティは権限チェック要らない
	} else {
		if(isInsert) {
			isEditable = auth.checkPermission(new EntityPropertyPermission(defName, pd.getName(), EntityPropertyPermission.Action.CREATE));
		} else {
			isEditable = auth.checkPermission(new EntityPropertyPermission(defName, pd.getName(), EntityPropertyPermission.Action.UPDATE));
		}
	}
	boolean updatable = ((pd == null || pd.isUpdatable()) || isInsert) && isEditable;
	if (isInsert && isEditable && propValue == null) propValue = getDefaultValue(editor, pd);

	boolean isMultiple = pd.getMultiplicity() != 1;

	//カスタムスタイル
	String customStyle = "";
	if (StringUtil.isNotEmpty(editor.getInputCustomStyle())) {
		customStyle = EntityViewUtil.getCustomStyle(rootDefName, scriptKey, editor.getInputCustomStyleScriptKey(), entity, propValue);
	}

	if (ViewUtil.isAutocompletionTarget()) {
		request.setAttribute(Constants.AUTOCOMPLETION_EDITOR, editor);
		request.setAttribute(Constants.AUTOCOMPLETION_SCRIPT_PATH, "/jsp/gem/generic/editor/string/StringPropertyAutocompletion.jsp");
	}

	//詳細編集
	if (editor.getDisplayType() == StringDisplayType.SELECT) {
		//選択型

		String cls = "form-size-02 inpbr";
		if (nest != null && nest) {
			//cls = "form-size-08 inpbr";
		}

		if (isMultiple) {
			//複数
			String[] array = propValue instanceof String[] ? (String[]) propValue : null;
			if (updatable) {
				List<String> values = new ArrayList<String>();
				if (array != null && array.length > 0) values.addAll(Arrays.asList(array));

      out.write("<select name=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f0 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f0.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f0.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(154,14) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f0.setValue(propName );
      int _jspx_eval_c_005fout_005f0 = _jspx_th_c_005fout_005f0.doStartTag();
      if (_jspx_th_c_005fout_005f0.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f0);
      out.write("\" size=\"6\" class=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f1 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f1.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f1.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(154,63) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f1.setValue(cls );
      int _jspx_eval_c_005fout_005f1 = _jspx_th_c_005fout_005f1.doStartTag();
      if (_jspx_th_c_005fout_005f1.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f1);
      out.write("\" style=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f2 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f2.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f2.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(154,98) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f2.setValue(customStyle);
      int _jspx_eval_c_005fout_005f2 = _jspx_th_c_005fout_005f2.doStartTag();
      if (_jspx_th_c_005fout_005f2.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f2);
      out.write("\" multiple>\n");

				for (EditorValue tmp : editor.getValues()) {
					String label = EntityViewUtil.getStringPropertySelectTypeLabel(tmp);
					String selected = values.contains(tmp.getValue()) ? " selected" : "";
					String optStyle = tmp.getStyle() != null ? tmp.getStyle() : "";

      out.write("<option class=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f3 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f3.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f3.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(161,15) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f3.setValue(optStyle );
      int _jspx_eval_c_005fout_005f3 = _jspx_th_c_005fout_005f3.doStartTag();
      if (_jspx_th_c_005fout_005f3.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f3);
      out.write("\" title=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f4 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f4.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f4.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(161,55) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f4.setValue(label );
      int _jspx_eval_c_005fout_005f4 = _jspx_th_c_005fout_005f4.doStartTag();
      if (_jspx_th_c_005fout_005f4.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f4);
      out.write("\" value=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f5 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f5.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f5.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(161,93) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f5.setValue(tmp.getValue() );
      int _jspx_eval_c_005fout_005f5 = _jspx_th_c_005fout_005f5.doStartTag();
      if (_jspx_th_c_005fout_005f5.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f5);
      out.write('"');
      out.write(' ');
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f6 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f6.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f6.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(161,132) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f6.setValue(selected );
      int _jspx_eval_c_005fout_005f6 = _jspx_th_c_005fout_005f6.doStartTag();
      if (_jspx_th_c_005fout_005f6.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f6);
      out.write('>');
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f7 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f7.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f7.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(161,164) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f7.setValue(label );
      int _jspx_eval_c_005fout_005f7 = _jspx_th_c_005fout_005f7.doStartTag();
      if (_jspx_th_c_005fout_005f7.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f7);
      out.write("</option>\n");

				}

      out.write("</select>\n");

			} else {
				//更新不可
				List<EditorValue> values = getValues(editor, propValue, pd);

      out.write("<ul style=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f8 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f8.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f8.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(171,11) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f8.setValue(customStyle);
      int _jspx_eval_c_005fout_005f8 = _jspx_th_c_005fout_005f8.doStartTag();
      if (_jspx_th_c_005fout_005f8.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f8);
      out.write('"');
      out.write('>');
      out.write('\n');

				for (EditorValue tmp : values) {
					String optStyle = tmp.getStyle() != null ? tmp.getStyle() : "";

      out.write("<li class=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f9 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f9.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f9.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(176,11) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f9.setValue(optStyle );
      int _jspx_eval_c_005fout_005f9 = _jspx_th_c_005fout_005f9.doStartTag();
      if (_jspx_th_c_005fout_005f9.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f9);
      out.write('"');
      out.write('>');
      out.write('\n');
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f10 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f10.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f10.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(177,0) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f10.setValue(tmp.getLabel() );
      int _jspx_eval_c_005fout_005f10 = _jspx_th_c_005fout_005f10.doStartTag();
      if (_jspx_th_c_005fout_005f10.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f10);
      out.write("<input type=\"hidden\" name=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f11 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f11.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f11.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(178,27) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f11.setValue(propName);
      int _jspx_eval_c_005fout_005f11 = _jspx_th_c_005fout_005f11.doStartTag();
      if (_jspx_th_c_005fout_005f11.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f11);
      out.write("\" value=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f12 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f12.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f12.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(178,66) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f12.setValue(tmp.getValue());
      int _jspx_eval_c_005fout_005f12 = _jspx_th_c_005fout_005f12.doStartTag();
      if (_jspx_th_c_005fout_005f12.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f12);
      out.write("\" />\n");
      out.write("</li>\n");

				}

      out.write("</ul>\n");

			}
		} else {
			//単一
			String str = propValue instanceof String ? (String) propValue : "";
			if (updatable) {
				String pleaseSelectLabel = "";
				if (ViewUtil.isShowPulldownPleaseSelectLabel()) {
					pleaseSelectLabel = GemResourceBundleUtil.resourceString("generic.editor.string.StringPropertyEditor_Edit.pleaseSelect");
				}

      out.write("<select name=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f13 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f13.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f13.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(195,14) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f13.setValue(propName );
      int _jspx_eval_c_005fout_005f13 = _jspx_th_c_005fout_005f13.doStartTag();
      if (_jspx_th_c_005fout_005f13.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f13);
      out.write("\" size=\"1\" class=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f14 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f14.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f14.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(195,63) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f14.setValue(cls );
      int _jspx_eval_c_005fout_005f14 = _jspx_th_c_005fout_005f14.doStartTag();
      if (_jspx_th_c_005fout_005f14.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f14);
      out.write("\" style=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f15 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f15.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f15.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(195,98) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f15.setValue(customStyle);
      int _jspx_eval_c_005fout_005f15 = _jspx_th_c_005fout_005f15.doStartTag();
      if (_jspx_th_c_005fout_005f15.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f15);
      out.write("\">\n");
      out.write("<option value=\"\" title=\"");
      out.print( pleaseSelectLabel );
      out.write('"');
      out.write('>');
      out.print( pleaseSelectLabel );
      out.write("</option>\n");

				for (EditorValue tmp : editor.getValues()) {
					String label = EntityViewUtil.getStringPropertySelectTypeLabel(tmp);
					String selected = str.equals(tmp.getValue()) ? " selected" : "";
					String optStyle = tmp.getStyle() != null ? tmp.getStyle() : "";

      out.write("<option class=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f16 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f16.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f16.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(203,15) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f16.setValue(optStyle );
      int _jspx_eval_c_005fout_005f16 = _jspx_th_c_005fout_005f16.doStartTag();
      if (_jspx_th_c_005fout_005f16.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f16);
      out.write("\" title=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f17 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f17.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f17.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(203,55) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f17.setValue(label );
      int _jspx_eval_c_005fout_005f17 = _jspx_th_c_005fout_005f17.doStartTag();
      if (_jspx_th_c_005fout_005f17.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f17);
      out.write("\" value=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f18 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f18.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f18.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(203,93) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f18.setValue(tmp.getValue() );
      int _jspx_eval_c_005fout_005f18 = _jspx_th_c_005fout_005f18.doStartTag();
      if (_jspx_th_c_005fout_005f18.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f18);
      out.write('"');
      out.write(' ');
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f19 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f19.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f19.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(203,132) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f19.setValue(selected );
      int _jspx_eval_c_005fout_005f19 = _jspx_th_c_005fout_005f19.doStartTag();
      if (_jspx_th_c_005fout_005f19.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f19);
      out.write('>');
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f20 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f20.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f20.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(203,164) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f20.setValue(label );
      int _jspx_eval_c_005fout_005f20 = _jspx_th_c_005fout_005f20.doStartTag();
      if (_jspx_th_c_005fout_005f20.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f20);
      out.write("</option>\n");

				}

      out.write("</select>\n");

			} else {
				//更新不可
				EditorValue ev = getValue(editor, str);
				String label = ev != null ? ev.getLabel() != null ? ev.getLabel() : "" : "";
				String val = ev != null ? ev.getValue() != null ? ev.getValue() : "" : "";

				if (StringUtil.isNotEmpty(customStyle)) {

      out.write("<span style=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f21 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f21.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f21.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(217,13) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f21.setValue(customStyle );
      int _jspx_eval_c_005fout_005f21 = _jspx_th_c_005fout_005f21.doStartTag();
      if (_jspx_th_c_005fout_005f21.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f21);
      out.write('"');
      out.write('>');
      out.write('\n');

				}

      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f22 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f22.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f22.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(221,0) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f22.setValue(label );
      int _jspx_eval_c_005fout_005f22 = _jspx_th_c_005fout_005f22.doStartTag();
      if (_jspx_th_c_005fout_005f22.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f22);
      out.write("<input type=\"hidden\" name=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f23 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f23.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f23.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(222,27) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f23.setValue(propName );
      int _jspx_eval_c_005fout_005f23 = _jspx_th_c_005fout_005f23.doStartTag();
      if (_jspx_th_c_005fout_005f23.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f23);
      out.write("\" value=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f24 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f24.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f24.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(222,67) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f24.setValue(propValue );
      int _jspx_eval_c_005fout_005f24 = _jspx_th_c_005fout_005f24.doStartTag();
      if (_jspx_th_c_005fout_005f24.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f24);
      out.write("\" />\n");

				if (StringUtil.isNotEmpty(customStyle)) {

      out.write("</span>\n");

				}
			}
		}
	} else {
		//選択型以外

		String cls = "form-size-01 inpbr";
		if (nest != null && nest) {
			//cls = "form-size-08 inpbr";
		}
		String maxlength = "";
		String inputType = "text";
		String inputPattern = "";
		if (editor.getDisplayType() == StringDisplayType.TEXT) {
			//テキスト
			if (editor.getMaxlength() > 0) {
				maxlength = "maxlength=" + editor.getMaxlength();
			}
			if (StringUtil.isNotEmpty(editor.getInputType())) {
				inputType = editor.getInputType();
			}
		}
		if (editor.getDisplayType() == StringDisplayType.TEXT 
				|| editor.getDisplayType() == StringDisplayType.PASSWORD) {
			if (StringUtil.isNotEmpty(editor.getInputPattern())) {
				inputPattern = "pattern=\"" + StringUtil.escapeHtml(editor.getInputPattern()) + "\"";
			}
			if (editor.getHtmlValidationMessage() != null) {
				String editorId = (String)request.getAttribute(Constants.EDITOR_UNIQUE_ID);

      out.write("<script type=\"text/javascript\">\n");
      out.write("$(function() {\n");
				if (StringUtil.isNotEmpty(editor.getHtmlValidationMessage().getTypeMismatch())) {
					String message = TemplateUtil.getMultilingualString(editor.getHtmlValidationMessage().getTypeMismatch(), editor.getHtmlValidationMessage().getLocalizedTypeMismatchList());

      out.write("\n");
      out.write("	addHtmlValidationMessage(\"");
      out.print(StringUtil.escapeJavaScript(editorId));
      out.write("\", \"typeMismatch\", \"");
      out.print(StringUtil.escapeJavaScript(message));
      out.write("\");\n");
				}
				if (StringUtil.isNotEmpty(editor.getHtmlValidationMessage().getPatternMismatch())) {
					String message = TemplateUtil.getMultilingualString(editor.getHtmlValidationMessage().getPatternMismatch(), editor.getHtmlValidationMessage().getLocalizedPatternMismatchList());

      out.write("\n");
      out.write("	addHtmlValidationMessage(\"");
      out.print(StringUtil.escapeJavaScript(editorId));
      out.write("\", \"patternMismatch\", \"");
      out.print(StringUtil.escapeJavaScript(message));
      out.write("\");\n");
				} 
      out.write("\n");
      out.write("});\n");
      out.write("</script>\n");
			}
		}

		if (editor.getDisplayType() != StringDisplayType.LABEL
				&& editor.getDisplayType() != StringDisplayType.HIDDEN && updatable) {

			if (isMultiple) {
				//複数
				String ulId = "ul_" + propName;
				String dummyRowId = "id_li_" + propName + "Dummmy";
				String selector = null;
				String toggleAddBtnFunc = "toggleAddBtn_" + escapedPropName;
				if (editor.getDisplayType() == StringDisplayType.RICHTEXT) {
					request.setAttribute(Constants.EDITOR_RICHTEXT_LIBRARY, editor.getRichTextLibrary());


// デフォルトのRichTextライブラリの取得
RichTextLibrary defaultRichTextLibrary = (RichTextLibrary)request.getAttribute(Constants.EDITOR_RICHTEXT_DEFAULT_LIBRARY);
if (defaultRichTextLibrary == null) {
	GemConfigService gemConfigService = ServiceRegistry.getRegistry().getService(GemConfigService.class);
	defaultRichTextLibrary = gemConfigService.getRichTextLibrary();
	request.setAttribute(Constants.EDITOR_RICHTEXT_DEFAULT_LIBRARY, defaultRichTextLibrary);
}

// EditorのRichTextライブラリの取得
RichTextLibrary richTextLibrary = (RichTextLibrary)request.getAttribute(Constants.EDITOR_RICHTEXT_LIBRARY);
if (richTextLibrary == null) {
	richTextLibrary = defaultRichTextLibrary;
}

if (request.getAttribute(Constants.RICHTEXT_LIB_LOADED + "_" + richTextLibrary.name()) == null) {

	String templateName = null;
	switch (richTextLibrary) {
		case QUILL:
			templateName = Constants.TEMPLATE_EDITOR_RICHTEXT_QUILL;
			break;
		case CKEDITOR:
			templateName = Constants.TEMPLATE_EDITOR_RICHTEXT_CKEDITOR;
			break;
		default:
	}

      //  m:include
      org.iplass.mtp.web.template.tags.IncludeTag _jspx_th_m_005finclude_005f0 = new org.iplass.mtp.web.template.tags.IncludeTag();
      _jsp_getInstanceManager().newInstance(_jspx_th_m_005finclude_005f0);
      try {
        _jspx_th_m_005finclude_005f0.setJspContext(_jspx_page_context);
        // /jsp/gem/layout/resource/richtextEditorResource.inc.jsp(55,0) name = template type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
        _jspx_th_m_005finclude_005f0.setTemplate(templateName );
        _jspx_th_m_005finclude_005f0.doTag();
      } finally {
        _jsp_getInstanceManager().destroyInstance(_jspx_th_m_005finclude_005f0);
      }

	request.setAttribute(Constants.RICHTEXT_LIB_LOADED + "_" + richTextLibrary.name(), true);
}


				}

      out.write("<ul id=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f25 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f25.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f25.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(291,8) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f25.setValue(ulId );
      int _jspx_eval_c_005fout_005f25 = _jspx_th_c_005fout_005f25.doStartTag();
      if (_jspx_th_c_005fout_005f25.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f25);
      out.write("\" class=\"mb05\">\n");
      out.write("\n");
 				// ダミー行出力 
      out.write("<li id=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f26 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f26.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f26.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(294,8) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f26.setValue(dummyRowId );
      int _jspx_eval_c_005fout_005f26 = _jspx_th_c_005fout_005f26.doStartTag();
      if (_jspx_th_c_005fout_005f26.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f26);
      out.write("\" class=\"list-add\" style=\"display: none;\">\n");

				if (editor.getDisplayType() == StringDisplayType.TEXT) {
					//テキスト
					selector = "input[type='" + inputType + "']";

      out.write("<input type=\"");
      out.print(inputType );
      out.write("\" class=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f27 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f27.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f27.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(300,37) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f27.setValue(cls );
      int _jspx_eval_c_005fout_005f27 = _jspx_th_c_005fout_005f27.doStartTag();
      if (_jspx_th_c_005fout_005f27.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f27);
      out.write(" custom-type-text\" style=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f28 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f28.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f28.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(300,89) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f28.setValue(customStyle);
      int _jspx_eval_c_005fout_005f28 = _jspx_th_c_005fout_005f28.doStartTag();
      if (_jspx_th_c_005fout_005f28.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f28);
      out.write('"');
      out.write(' ');
      out.print(maxlength);
      out.print(inputPattern);
      out.write(" \n");
      out.write("	onblur=\"typeValidate(this)\" oninvalid=\"typeInvalid(arguments[0], this)\"/>\n");

				} else if (editor.getDisplayType() == StringDisplayType.TEXTAREA) {
					//テキストエリア
					selector = "textarea";

      out.write("<textarea class=\"form-size-05 inpbr\" style=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f29 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f29.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f29.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(307,44) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f29.setValue(customStyle);
      int _jspx_eval_c_005fout_005f29 = _jspx_th_c_005fout_005f29.doStartTag();
      if (_jspx_th_c_005fout_005f29.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f29);
      out.write("\" rows=\"5\" cols=\"30\"></textarea>\n");

				} else if (editor.getDisplayType() == StringDisplayType.RICHTEXT) {
					//リッチテキスト
					selector = "textarea";

      out.write("<textarea class=\"\" style=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f30 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f30.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f30.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(313,26) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f30.setValue(customStyle);
      int _jspx_eval_c_005fout_005f30 = _jspx_th_c_005fout_005f30.doStartTag();
      if (_jspx_th_c_005fout_005f30.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f30);
      out.write("\" rows=\"5\" cols=\"30\"></textarea>\n");

				} else if (editor.getDisplayType() == StringDisplayType.PASSWORD) {
					//パスワード
					selector = "input[type='password']";

      out.write("<input type=\"password\" class=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f31 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f31.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f31.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(319,30) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f31.setValue(cls );
      int _jspx_eval_c_005fout_005f31 = _jspx_th_c_005fout_005f31.doStartTag();
      if (_jspx_th_c_005fout_005f31.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f31);
      out.write("\" style=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f32 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f32.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f32.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(319,65) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f32.setValue(customStyle);
      int _jspx_eval_c_005fout_005f32 = _jspx_th_c_005fout_005f32.doStartTag();
      if (_jspx_th_c_005fout_005f32.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f32);
      out.write('"');
      out.write(' ');
      out.write(' ');
      out.print(inputPattern);
      out.write("\n");
      out.write("	onblur=\"typeValidate(this)\" oninvalid=\"typeInvalid(arguments[0], this)\"/>\n");

				}

      out.write("<input type=\"button\" value=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${m:rs('mtp-gem-messages', 'generic.editor.string.StringPropertyEditor_Edit.delete')}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, _jspx_fnmap_0));
      out.write("\" class=\"gr-btn-02 del-btn\" />\n");
      out.write("</li>\n");

				// 既存値出力
				String[] array = propValue instanceof String[] ? (String[]) propValue : null;
				int length = 0;
				if (array != null) {
					length = array.length;
					for (int i = 0; i < array.length; i++) {
						String str = array[i] != null ? array[i] : "";
						String liId = "li_" + propName + i;

      out.write("<li id=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f33 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f33.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f33.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(336,8) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f33.setValue(liId );
      int _jspx_eval_c_005fout_005f33 = _jspx_th_c_005fout_005f33.doStartTag();
      if (_jspx_th_c_005fout_005f33.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f33);
      out.write("\" class=\"list-add\">\n");

						if (editor.getDisplayType() == StringDisplayType.TEXT) {
							//テキスト

      out.write("<input type=\"");
      out.print(inputType );
      out.write("\" name=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f34 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f34.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f34.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(341,36) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f34.setValue(propName );
      int _jspx_eval_c_005fout_005f34 = _jspx_th_c_005fout_005f34.doStartTag();
      if (_jspx_th_c_005fout_005f34.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f34);
      out.write("\" value=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f35 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f35.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f35.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(341,76) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f35.setValue(str );
      int _jspx_eval_c_005fout_005f35 = _jspx_th_c_005fout_005f35.doStartTag();
      if (_jspx_th_c_005fout_005f35.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f35);
      out.write("\" class=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f36 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f36.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f36.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(341,111) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f36.setValue(cls );
      int _jspx_eval_c_005fout_005f36 = _jspx_th_c_005fout_005f36.doStartTag();
      if (_jspx_th_c_005fout_005f36.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f36);
      out.write(" custom-type-text\" style=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f37 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f37.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f37.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(341,163) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f37.setValue(customStyle);
      int _jspx_eval_c_005fout_005f37 = _jspx_th_c_005fout_005f37.doStartTag();
      if (_jspx_th_c_005fout_005f37.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f37);
      out.write('"');
      out.write(' ');
      out.print(maxlength);
      out.print(inputPattern);
      out.write(" \n");
      out.write("	onblur=\"typeValidate(this)\" oninvalid=\"typeInvalid(arguments[0], this)\"/>\n");

						} else if (editor.getDisplayType() == StringDisplayType.TEXTAREA) {
							//テキストエリア

      out.write("<textarea name=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f38 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f38.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f38.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(347,16) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f38.setValue(propName );
      int _jspx_eval_c_005fout_005f38 = _jspx_th_c_005fout_005f38.doStartTag();
      if (_jspx_th_c_005fout_005f38.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f38);
      out.write("\" class=\"form-size-05 inpbr\" style=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f39 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f39.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f39.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(347,83) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f39.setValue(customStyle);
      int _jspx_eval_c_005fout_005f39 = _jspx_th_c_005fout_005f39.doStartTag();
      if (_jspx_th_c_005fout_005f39.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f39);
      out.write("\" rows=\"5\" cols=\"30\">");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f40 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f40.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f40.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(347,137) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f40.setValue(str );
      int _jspx_eval_c_005fout_005f40 = _jspx_th_c_005fout_005f40.doStartTag();
      if (_jspx_th_c_005fout_005f40.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f40);
      out.write("</textarea>\n");

						} else if (editor.getDisplayType() == StringDisplayType.RICHTEXT) {
							//リッチテキスト
							String textId = "id_" + propName + i;

      out.write("<textarea name=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f41 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f41.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f41.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(353,16) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f41.setValue(propName );
      int _jspx_eval_c_005fout_005f41 = _jspx_th_c_005fout_005f41.doStartTag();
      if (_jspx_th_c_005fout_005f41.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f41);
      out.write("\" style=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f42 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f42.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f42.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(353,56) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f42.setValue(customStyle);
      int _jspx_eval_c_005fout_005f42 = _jspx_th_c_005fout_005f42.doStartTag();
      if (_jspx_th_c_005fout_005f42.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f42);
      out.write("\" rows=\"5\" cols=\"30\" id=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f43 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f43.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f43.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(353,114) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f43.setValue(textId );
      int _jspx_eval_c_005fout_005f43 = _jspx_th_c_005fout_005f43.doStartTag();
      if (_jspx_th_c_005fout_005f43.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f43);
      out.write('"');
      out.write('>');
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f44 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f44.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f44.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(353,145) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f44.setValue(str );
      int _jspx_eval_c_005fout_005f44 = _jspx_th_c_005fout_005f44.doStartTag();
      if (_jspx_th_c_005fout_005f44.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f44);
      out.write("</textarea>\n");

						} else if (editor.getDisplayType() == StringDisplayType.PASSWORD) {
							//パスワード

      out.write("<input type=\"password\" name=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f45 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f45.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f45.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(358,29) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f45.setValue(propName );
      int _jspx_eval_c_005fout_005f45 = _jspx_th_c_005fout_005f45.doStartTag();
      if (_jspx_th_c_005fout_005f45.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f45);
      out.write("\" class=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f46 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f46.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f46.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(358,69) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f46.setValue(cls );
      int _jspx_eval_c_005fout_005f46 = _jspx_th_c_005fout_005f46.doStartTag();
      if (_jspx_th_c_005fout_005f46.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f46);
      out.write("\" style=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f47 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f47.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f47.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(358,104) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f47.setValue(customStyle);
      int _jspx_eval_c_005fout_005f47 = _jspx_th_c_005fout_005f47.doStartTag();
      if (_jspx_th_c_005fout_005f47.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f47);
      out.write("\" value=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f48 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f48.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f48.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(358,146) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f48.setValue(str );
      int _jspx_eval_c_005fout_005f48 = _jspx_th_c_005fout_005f48.doStartTag();
      if (_jspx_th_c_005fout_005f48.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f48);
      out.write('"');
      out.write(' ');
      out.print(inputPattern);
      out.write("\n");
      out.write("	onblur=\"typeValidate(this)\" oninvalid=\"typeInvalid(arguments[0], this)\"/>\n");

						}


						// 削除ボタン
						if (editor.getDisplayType() == StringDisplayType.RICHTEXT) {

      out.write("<input type=\"button\" value=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${m:rs('mtp-gem-messages', 'generic.editor.string.StringPropertyEditor_Edit.delete')}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, _jspx_fnmap_0));
      out.write("\" class=\"gr-btn-02 del-btn\" \n");
      out.write("    onclick=\"delete_");
      out.print(escapedPropName + i );
      out.write('(');
      out.write('\'');
      out.print(StringUtil.escapeJavaScript(liId));
      out.write("')\" />\n");
      out.write("\n");
      out.write("<script type=\"text/javascript\">\n");
      out.write("function delete_");
      out.print(escapedPropName + i);
      out.write("(liId) {\n");
      out.write("	deleteRichtextItem_");
      out.print(escapedPropName);
      out.write("(\"id_");
      out.print(escapedPropName + i);
      out.write("\");\n");
      out.write("	deleteItem(liId, ");
      out.print(toggleAddBtnFunc);
      out.write(");\n");
      out.write("}\n");
      out.write("</script>\n");

						} else {

      out.write("<input type=\"button\" value=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${m:rs('mtp-gem-messages', 'generic.editor.string.StringPropertyEditor_Edit.delete')}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, _jspx_fnmap_0));
      out.write("\" class=\"gr-btn-02 del-btn\" \n");
      out.write("    onclick=\"deleteItem('");
      out.print(StringUtil.escapeJavaScript(liId));
      out.write('\'');
      out.write(',');
      out.write(' ');
      out.print(toggleAddBtnFunc);
      out.write(")\" />\n");

						}

      out.write("</li>\n");

					}
					if (editor.getDisplayType() == StringDisplayType.RICHTEXT) {
						request.setAttribute(Constants.EDITOR_RICHTEXT_LIBRARY, editor.getRichTextLibrary());
						request.setAttribute(Constants.EDITOR_RICHTEXT_ALLOWED_CONTENT, allowedContent);
						request.setAttribute(Constants.EDITOR_RICHTEXT_EDITOR_OPTION, editor.getRichtextEditorOption());
						request.setAttribute(Constants.EDITOR_RICHTEXT_TARGET_NAME, propName);

      org.apache.jasper.runtime.JspRuntimeLibrary.include(request, response, "richtext/RichtextEditor_Edit.jsp", out, false);

						request.removeAttribute(Constants.EDITOR_RICHTEXT_LIBRARY);
						request.removeAttribute(Constants.EDITOR_RICHTEXT_ALLOWED_CONTENT);
						request.removeAttribute(Constants.EDITOR_RICHTEXT_EDITOR_OPTION);
						request.removeAttribute(Constants.EDITOR_RICHTEXT_TARGET_NAME);
					}
				}

      out.write("</ul>\n");
      out.write("\n");

				if (editor.getDisplayType() == StringDisplayType.RICHTEXT) {
					request.setAttribute(Constants.EDITOR_RICHTEXT_LIBRARY, editor.getRichTextLibrary());
					request.setAttribute(Constants.EDITOR_RICHTEXT_ALLOWED_CONTENT, allowedContent);
					request.setAttribute(Constants.EDITOR_RICHTEXT_EDITOR_OPTION, editor.getRichtextEditorOption());
					request.setAttribute(Constants.EDITOR_RICHTEXT_TARGET_NAME, propName);

					// 削除処理、追加処理を定義

      org.apache.jasper.runtime.JspRuntimeLibrary.include(request, response, "richtext/RichtextEditor_Delete.jsp", out, false);
      org.apache.jasper.runtime.JspRuntimeLibrary.include(request, response, "richtext/RichtextEditor_Add.jsp", out, false);
 
					request.removeAttribute(Constants.EDITOR_RICHTEXT_LIBRARY);
					request.removeAttribute(Constants.EDITOR_RICHTEXT_ALLOWED_CONTENT);
					request.removeAttribute(Constants.EDITOR_RICHTEXT_EDITOR_OPTION);
					request.setAttribute(Constants.EDITOR_RICHTEXT_TARGET_NAME, propName);
				}

      out.write("<script type=\"text/javascript\">\n");
      out.write("$(function() {\n");
      out.write("	$(\"#id_addBtn_");
      out.print(escapedPropName);
      out.write("\").on(\"click\", function() {\n");
      out.write("		addTextItem(\"");
      out.print(StringUtil.escapeJavaScript(ulId));
      out.write('"');
      out.write(',');
      out.write(' ');
      out.print((pd.getMultiplicity() + 1));
      out.write(',');
      out.write(' ');
      out.write('"');
      out.print(StringUtil.escapeJavaScript(dummyRowId));
      out.write("\", \"");
      out.print(escapedPropName);
      out.write("\"\n");
      out.write("				, \"id_count_");
      out.print(escapedPropName);
      out.write("\", \"");
      out.print(selector);
      out.write('"');
      out.write('\n');

				if (editor.getDisplayType() == StringDisplayType.RICHTEXT) {

      out.write("\n");
      out.write("				, function(elem) {\n");
      out.write("					var count = $(\"#id_count_");
      out.print(escapedPropName);
      out.write("\").val();\n");
      out.write("					var $delBtn = $(elem).next();\n");
      out.write("					$delBtn.off(\"click\");\n");
      out.write("					$delBtn.on(\"click\", function() {\n");
      out.write("						deleteRichtextItem_");
      out.print(escapedPropName);
      out.write("(\"id_");
      out.print(escapedPropName);
      out.write("\" + count);\n");
      out.write("						deleteItem($(this).parent().attr(\"id\"), ");
      out.print(toggleAddBtnFunc);
      out.write(");\n");
      out.write("					});\n");
      out.write("\n");
      out.write("					$(elem).attr(\"id\", \"id_");
      out.print(escapedPropName);
      out.write("\" + count);\n");
      out.write("\n");
      out.write("					addRichtextItem_");
      out.print(escapedPropName);
      out.write("(\"id_");
      out.print(escapedPropName);
      out.write("\" + count);\n");
      out.write("\n");
      out.write("					");
      out.print(toggleAddBtnFunc);
      out.write("();\n");
      out.write("				}\n");

				} else {

      out.write("\n");
      out.write("				, ");
      out.print(toggleAddBtnFunc);
 
				}

      out.write("\n");
      out.write("		, ");
      out.print(toggleAddBtnFunc);
      out.write(");\n");
      out.write("	});\n");
      out.write("});\n");
      out.write("function ");
      out.print(toggleAddBtnFunc);
      out.write("(){\n");
      out.write("	var display = $(\"#");
      out.print(StringUtil.escapeJavaScript(ulId));
      out.write(" li:not(:hidden)\").length < ");
      out.print(pd.getMultiplicity());
      out.write(";\n");
      out.write("	$(\"#id_addBtn_");
      out.print(escapedPropName);
      out.write("\").toggle(display);\n");
      out.write("\n");
      out.write("	var $parent = $(\"#");
      out.print(StringUtil.escapeJavaScript(ulId));
      out.write("\").closest(\".property-data\");\n");
      out.write("	if ($(\".validate-error\", $parent).length === 0) {\n");
      out.write("		$(\".format-error\", $parent).remove();\n");
      out.write("	}\n");
      out.write("}\n");
      out.write("</script>\n");

				String addBtnStyle = "";
				if (array != null && array.length >= pd.getMultiplicity()) addBtnStyle = "display: none;";

      out.write("<input type=\"button\" value=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${m:rs('mtp-gem-messages', 'generic.editor.string.StringPropertyEditor_Edit.add')}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, _jspx_fnmap_0));
      out.write("\" class=\"gr-btn-02 add-btn\" style=\"");
      out.print(addBtnStyle);
      out.write("\" id=\"id_addBtn_");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f49 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f49.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f49.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(470,177) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f49.setValue(propName );
      int _jspx_eval_c_005fout_005f49 = _jspx_th_c_005fout_005f49.doStartTag();
      if (_jspx_th_c_005fout_005f49.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f49);
      out.write("\" />\n");
      out.write("<input type=\"hidden\" id=\"id_count_");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f50 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f50.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f50.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(471,34) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f50.setValue(propName );
      int _jspx_eval_c_005fout_005f50 = _jspx_th_c_005fout_005f50.doStartTag();
      if (_jspx_th_c_005fout_005f50.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f50);
      out.write("\" value=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f51 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f51.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f51.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(471,74) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f51.setValue(length );
      int _jspx_eval_c_005fout_005f51 = _jspx_th_c_005fout_005f51.doStartTag();
      if (_jspx_th_c_005fout_005f51.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f51);
      out.write("\" />\n");

			} else {
				//単一
				String str = propValue instanceof String ? (String) propValue : "";
				if (editor.getDisplayType() == StringDisplayType.TEXT) {
					//テキスト

      out.write("<input type=\"");
      out.print(inputType );
      out.write("\" name=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f52 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f52.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f52.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(479,36) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f52.setValue(propName);
      int _jspx_eval_c_005fout_005f52 = _jspx_th_c_005fout_005f52.doStartTag();
      if (_jspx_th_c_005fout_005f52.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f52);
      out.write("\" value=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f53 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f53.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f53.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(479,75) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f53.setValue(str );
      int _jspx_eval_c_005fout_005f53 = _jspx_th_c_005fout_005f53.doStartTag();
      if (_jspx_th_c_005fout_005f53.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f53);
      out.write("\" class=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f54 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f54.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f54.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(479,110) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f54.setValue(cls );
      int _jspx_eval_c_005fout_005f54 = _jspx_th_c_005fout_005f54.doStartTag();
      if (_jspx_th_c_005fout_005f54.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f54);
      out.write(" custom-type-text\" style=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f55 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f55.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f55.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(479,162) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f55.setValue(customStyle);
      int _jspx_eval_c_005fout_005f55 = _jspx_th_c_005fout_005f55.doStartTag();
      if (_jspx_th_c_005fout_005f55.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f55);
      out.write('"');
      out.write(' ');
      out.print(maxlength);
      out.print(inputPattern);
      out.write(" \n");
      out.write("	onblur=\"typeValidate(this)\" oninvalid=\"typeInvalid(arguments[0], this)\"/>\n");

				} else if (editor.getDisplayType() == StringDisplayType.TEXTAREA) {
					//テキストエリア

      out.write("<textarea name=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f56 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f56.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f56.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(485,16) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f56.setValue(propName);
      int _jspx_eval_c_005fout_005f56 = _jspx_th_c_005fout_005f56.doStartTag();
      if (_jspx_th_c_005fout_005f56.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f56);
      out.write("\" rows=\"5\" cols=\"30\" class=\"form-size-05 inpbr\" style=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f57 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f57.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f57.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(485,101) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f57.setValue(customStyle);
      int _jspx_eval_c_005fout_005f57 = _jspx_th_c_005fout_005f57.doStartTag();
      if (_jspx_th_c_005fout_005f57.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f57);
      out.write('"');
      out.write('>');
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f58 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f58.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f58.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(485,136) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f58.setValue(str );
      int _jspx_eval_c_005fout_005f58 = _jspx_th_c_005fout_005f58.doStartTag();
      if (_jspx_th_c_005fout_005f58.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f58);
      out.write("</textarea>\n");

				} else if (editor.getDisplayType() == StringDisplayType.RICHTEXT) {
					//リッチテキスト
					request.setAttribute(Constants.EDITOR_RICHTEXT_LIBRARY, editor.getRichTextLibrary());

					String textId = "id_" + propName;

      out.write("<textarea name=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f59 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f59.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f59.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(493,16) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f59.setValue(propName);
      int _jspx_eval_c_005fout_005f59 = _jspx_th_c_005fout_005f59.doStartTag();
      if (_jspx_th_c_005fout_005f59.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f59);
      out.write("\" style=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f60 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f60.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f60.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(493,55) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f60.setValue(customStyle);
      int _jspx_eval_c_005fout_005f60 = _jspx_th_c_005fout_005f60.doStartTag();
      if (_jspx_th_c_005fout_005f60.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f60);
      out.write("\" id=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f61 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f61.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f61.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(493,94) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f61.setValue(textId );
      int _jspx_eval_c_005fout_005f61 = _jspx_th_c_005fout_005f61.doStartTag();
      if (_jspx_th_c_005fout_005f61.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f61);
      out.write("\" rows=\"5\" cols=\"30\" >");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f62 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f62.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f62.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(493,145) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f62.setValue(str );
      int _jspx_eval_c_005fout_005f62 = _jspx_th_c_005fout_005f62.doStartTag();
      if (_jspx_th_c_005fout_005f62.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f62);
      out.write("</textarea>\n");

// デフォルトのRichTextライブラリの取得
RichTextLibrary defaultRichTextLibrary = (RichTextLibrary)request.getAttribute(Constants.EDITOR_RICHTEXT_DEFAULT_LIBRARY);
if (defaultRichTextLibrary == null) {
	GemConfigService gemConfigService = ServiceRegistry.getRegistry().getService(GemConfigService.class);
	defaultRichTextLibrary = gemConfigService.getRichTextLibrary();
	request.setAttribute(Constants.EDITOR_RICHTEXT_DEFAULT_LIBRARY, defaultRichTextLibrary);
}

// EditorのRichTextライブラリの取得
RichTextLibrary richTextLibrary = (RichTextLibrary)request.getAttribute(Constants.EDITOR_RICHTEXT_LIBRARY);
if (richTextLibrary == null) {
	richTextLibrary = defaultRichTextLibrary;
}

if (request.getAttribute(Constants.RICHTEXT_LIB_LOADED + "_" + richTextLibrary.name()) == null) {

	String templateName = null;
	switch (richTextLibrary) {
		case QUILL:
			templateName = Constants.TEMPLATE_EDITOR_RICHTEXT_QUILL;
			break;
		case CKEDITOR:
			templateName = Constants.TEMPLATE_EDITOR_RICHTEXT_CKEDITOR;
			break;
		default:
	}

      //  m:include
      org.iplass.mtp.web.template.tags.IncludeTag _jspx_th_m_005finclude_005f1 = new org.iplass.mtp.web.template.tags.IncludeTag();
      _jsp_getInstanceManager().newInstance(_jspx_th_m_005finclude_005f1);
      try {
        _jspx_th_m_005finclude_005f1.setJspContext(_jspx_page_context);
        // /jsp/gem/layout/resource/richtextEditorResource.inc.jsp(55,0) name = template type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
        _jspx_th_m_005finclude_005f1.setTemplate(templateName );
        _jspx_th_m_005finclude_005f1.doTag();
      } finally {
        _jsp_getInstanceManager().destroyInstance(_jspx_th_m_005finclude_005f1);
      }

	request.setAttribute(Constants.RICHTEXT_LIB_LOADED + "_" + richTextLibrary.name(), true);
}


					if (nestDummyRow == null || !nestDummyRow) {
						// NestTableダミー行は適用しない＆追加(コピー)時は追加処理側から適用

						request.setAttribute(Constants.EDITOR_RICHTEXT_ALLOWED_CONTENT, allowedContent);
						request.setAttribute(Constants.EDITOR_RICHTEXT_EDITOR_OPTION, editor.getRichtextEditorOption());
						request.setAttribute(Constants.EDITOR_RICHTEXT_TARGET_NAME, propName);

      org.apache.jasper.runtime.JspRuntimeLibrary.include(request, response, "richtext/RichtextEditor_Edit.jsp", out, false);

					} else {
						// NestTableダミー行の場合は、追加時の適用処理を設定

						request.setAttribute(Constants.EDITOR_RICHTEXT_ALLOWED_CONTENT, allowedContent);
						request.setAttribute(Constants.EDITOR_RICHTEXT_EDITOR_OPTION, editor.getRichtextEditorOption());
						// NestTableではEditorのプロパティ名にIndexが付くため、プロパティ定義から設定
						request.setAttribute(Constants.EDITOR_RICHTEXT_TARGET_NAME, pd.getName());

      org.apache.jasper.runtime.JspRuntimeLibrary.include(request, response, "richtext/RichtextEditor_NestTable.jsp", out, false);

					}

					request.removeAttribute(Constants.EDITOR_RICHTEXT_LIBRARY);
					request.removeAttribute(Constants.EDITOR_RICHTEXT_ALLOWED_CONTENT);
					request.removeAttribute(Constants.EDITOR_RICHTEXT_EDITOR_OPTION);
					request.removeAttribute(Constants.EDITOR_RICHTEXT_TARGET_NAME);

				} else if (editor.getDisplayType() == StringDisplayType.PASSWORD) {
					//パスワード

      out.write("<input type=\"password\" name=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f63 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f63.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f63.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(526,29) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f63.setValue(propName );
      int _jspx_eval_c_005fout_005f63 = _jspx_th_c_005fout_005f63.doStartTag();
      if (_jspx_th_c_005fout_005f63.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f63);
      out.write("\" class=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f64 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f64.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f64.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(526,69) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f64.setValue(cls );
      int _jspx_eval_c_005fout_005f64 = _jspx_th_c_005fout_005f64.doStartTag();
      if (_jspx_th_c_005fout_005f64.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f64);
      out.write("\" style=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f65 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f65.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f65.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(526,104) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f65.setValue(customStyle);
      int _jspx_eval_c_005fout_005f65 = _jspx_th_c_005fout_005f65.doStartTag();
      if (_jspx_th_c_005fout_005f65.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f65);
      out.write("\" value=\"");
      //  c:out
      org.apache.taglibs.standard.tag.rt.core.OutTag _jspx_th_c_005fout_005f66 = (org.apache.taglibs.standard.tag.rt.core.OutTag) _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.OutTag.class);
      _jspx_th_c_005fout_005f66.setPageContext(_jspx_page_context);
      _jspx_th_c_005fout_005f66.setParent(null);
      // /jsp/gem/generic/editor/string/StringPropertyEditor_Edit.jsp(526,146) name = value type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fout_005f66.setValue(str );
      int _jspx_eval_c_005fout_005f66 = _jspx_th_c_005fout_005f66.doStartTag();
      if (_jspx_th_c_005fout_005f66.doEndTag() == jakarta.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return;
      }
      _005fjspx_005ftagPool_005fc_005fout_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005fout_005f66);
      out.write('"');
      out.write(' ');
      out.print(inputPattern);
      out.write("\n");
      out.write("	onblur=\"typeValidate(this)\" oninvalid=\"typeInvalid(arguments[0], this)\"/>\n");

				}
			}
		} else {
			//LABELかHIDDENか更新不可
			if (editor.getDisplayType() != StringDisplayType.HIDDEN) {
				request.setAttribute(Constants.OUTPUT_HIDDEN, true);
			}

      org.apache.jasper.runtime.JspRuntimeLibrary.include(request, response, "StringPropertyEditor_View.jsp", out, false);

			if (editor.getDisplayType() != StringDisplayType.HIDDEN) {
				request.removeAttribute(Constants.OUTPUT_HIDDEN);
			}
		}
	}

    } catch (java.lang.Throwable t) {
      if (!(t instanceof jakarta.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
